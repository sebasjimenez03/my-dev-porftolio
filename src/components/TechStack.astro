---
/** Types */
type Item = {
  label: string;
  level: 1 | 2 | 3 | 4 | 5;
  icon: string;
};
type Category = {
  name: string;
  note: string;
  items: Item[];
};

/** Data */
const categories: Category[] = [
  {
    name: "Frontend",
    note: "UI, performance, accessibility",
    items: [
      { label: "Angular (v9â€“17)", level: 5, icon: "angular" },
      { label: "TypeScript",       level: 5, icon: "ts" },
      { label: "JavaScript (ES6+)",level: 5, icon: "js" },
      { label: "RxJS",             level: 4, icon: "rxjs" },
      { label: "Angular Material", level: 4, icon: "material" },
      { label: "Bootstrap",        level: 4, icon: "bootstrap" },
      { label: "HTML5 / CSS3 / SCSS", level: 5, icon: "html" },
      { label: "Responsive Design", level: 5, icon: "screen" },
    ],
  },
  // ...rest unchanged
];

/** Small inline components (typed) */
const Icon = ({ name }: { name: string }) => {
  const common = "w-3.5 h-3.5";
  switch (name) {
    case "angular":   return <svg class={common} viewBox="0 0 24 24" fill="currentColor"><path d="M12 2 2 7l10 15L22 7 12 2Zm0 3.1 6.5 3.3-2.1 9.1H7.6L5.5 8.4 12 5.1Zm0 3.7-2.9 6.6h1.9l.5-1.3h1.1l.5 1.3h1.9L12 8.8Zm.3 3.6h-0.6l0.3-0.9 0.3 0.9Z"/></svg>;
    case "ts":        return <svg class={common} viewBox="0 0 24 24" fill="currentColor"><path d="M3 3h18v18H3z"/><path fill="#0ea5e9" d="M7 8h10v2H13v6h-2v-6H7z"/></svg>;
    case "js":        return <svg class={common} viewBox="0 0 24 24" fill="currentColor"><rect width="18" height="18" x="3" y="3"/><path fill="#f59e0b" d="M10 8h2v7a3 3 0 1 1-2.5-2.95V8zM14 8h4v2h-2v5a3 3 0 1 1-2-2.83V8z"/></svg>;
    // ...rest of cases unchanged
    default:          return <svg class={common} viewBox="0 0 24 24" fill="currentColor"><circle cx="12" cy="12" r="8"/></svg>;
  }
};

const Dots = ({ level }: { level: Item["level"] }) => {
  const total = 5;
  return (
    <div class="flex gap-1 ml-2">
      {Array.from({ length: total }).map((_, i) => (
        <span class={`h-1.5 w-1.5 rounded-full ${i < level ? 'bg-primary' : 'bg-white/20'}`}></span>
      ))}
    </div>
  );
};
---
---

<section id="stack" class="py-20 md:py-28">
  <header class="mb-10 md:mb-14 flex items-end justify-between">
    <div>
      <h2 class="font-serif text-4xl md:text-5xl font-bold tracking-tightest text-white">Tech Stack</h2>
      <p class="mt-2 text-neutral">The tools I use to build performant, scalable products.</p>
    </div>
    <span class="hidden md:inline-flex items-center gap-2 text-xs px-3 py-1.5 rounded-full bg-white/5 ring-1 ring-white/10">
      <span class="inline-block h-2 w-2 rounded-full bg-primary animate-pulse"></span>
      Always learning
    </span>
  </header>

  <div class="grid gap-6 md:gap-8 grid-cols-1 md:grid-cols-2 xl:grid-cols-3">
    {categories.map((cat) => (
      <article class="group relative overflow-hidden rounded-2xl bg-white/[0.03] ring-1 ring-white/10 hover:ring-white/20 transition">
        {/* subtle gradient edge */}
        <div class="pointer-events-none absolute inset-x-0 -top-px h-px bg-gradient-to-r from-transparent via-primary/40 to-transparent"></div>

        <div class="p-6 md:p-7">
          <div class="mb-4 flex items-center justify-between">
            <h3 class="font-serif text-2xl font-bold text-white tracking-tight">{cat.name}</h3>
            <span class="text-[11px] uppercase tracking-wider text-white/60">{cat.items.length} tools</span>
          </div>
          <p class="mb-5 text-sm text-neutral">{cat.note}</p>

          <ul class="flex flex-wrap gap-2">
            {cat.items.map((t) => (
              <li class="inline-flex items-center gap-2 rounded-full bg-white/5 px-3 py-2 text-[13px] text-white/90 ring-1 ring-white/10 hover:bg-white/10 hover:ring-white/20 transition">
                <span class="shrink-0 text-primary">
                  <Icon name={t.icon} />
                </span>
                <span class="whitespace-nowrap">{t.label}</span>
                <Dots level={t.level} />
              </li>
            ))}
          </ul>
        </div>
      </article>
    ))}
  </div>
</section>
